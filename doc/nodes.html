
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Nodes &#8212; DistZero  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Migrations" href="migrations.html" />
    <link rel="prev" title="Messages" href="messages.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="nodes">
<h1>Nodes<a class="headerlink" href="#nodes" title="Permalink to this headline">¶</a></h1>
<p>Nodes are the fundamental unit of computation in dist_zero.
They function much like processes do in traditional computing.
Each <a class="reference internal" href="machine.html#dist_zero.machine.MachineController" title="dist_zero.machine.MachineController"><code class="xref any py py-class docutils literal notranslate"><span class="pre">MachineController</span></code></a> instance manages a machine, and a set of <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> instances
that run on that machine.</p>
<span class="target" id="module-dist_zero.node.node"></span><dl class="class">
<dt id="dist_zero.node.node.Node">
<em class="property">class </em><code class="descclassname">dist_zero.node.node.</code><code class="descname">Node</code><span class="sig-paren">(</span><em>logger</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/node.html#Node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.node.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract base class for nodes</p>
<dl class="method">
<dt id="dist_zero.node.node.Node.deliver">
<code class="descname">deliver</code><span class="sig-paren">(</span><em>message</em>, <em>sequence_number</em>, <em>sender_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/node.html#Node.deliver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.node.Node.deliver" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method for delivering new messages to this node.</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.node.Node.elapse">
<code class="descname">elapse</code><span class="sig-paren">(</span><em>ms</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/node.html#Node.elapse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.node.Node.elapse" title="Permalink to this definition">¶</a></dt>
<dd><p>Elapse ms of time on this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – A number of milliseconds.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.node.Node.handle_api_message">
<code class="descname">handle_api_message</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/node.html#Node.handle_api_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.node.Node.handle_api_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle an api message.</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.node.Node.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/node.html#Node.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.node.Node.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Called exactly once, when a node starts to run.</p>
</dd></dl>

<dl class="attribute">
<dt id="dist_zero.node.node.Node.migrators">
<code class="descname">migrators</code><em class="property"> = None</em><a class="headerlink" href="#dist_zero.node.node.Node.migrators" title="Permalink to this definition">¶</a></dt>
<dd><p>A map from migration id to <a class="reference internal" href="migrations.html#dist_zero.migration.migrator.Migrator" title="dist_zero.migration.migrator.Migrator"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Migrator</span></code></a> instance.
It gives the migrators for the set of migrations that are currently migrating this <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.node.Node.new_handle">
<code class="descname">new_handle</code><span class="sig-paren">(</span><em>for_node_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/node.html#Node.new_handle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.node.Node.new_handle" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new handle for sending to self.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>for_node_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The id of the node that will be sending via the new handle.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> that the <code class="docutils literal notranslate"><span class="pre">for_node</span></code> can use to send messages to self.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.node.Node.receive">
<code class="descname">receive</code><span class="sig-paren">(</span><em>message</em>, <em>sender_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/node.html#Node.receive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.node.Node.receive" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive a message from a sender.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The message.</li>
<li><strong>sender_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The id of the sender <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a>, or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref any docutils literal notranslate"><span class="pre">None</span></code></a> if the message was not generated by a sender.
(pre-recorded messages will not have a sender).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.node.Node.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>receiver</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/node.html#Node.send"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.node.Node.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Encrypt and send a message to a receiver.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>receiver</strong> (<a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a>) – A <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> for the intended recipient <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> of the message.</li>
<li><strong>message</strong> (<a class="reference internal" href="message.html#message"><span class="std std-ref">Message</span></a>) – The message.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.node.Node.stats">
<code class="descname">stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/node.html#Node.stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.node.Node.stats" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary of statistics about this <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dist_zero.node.node.Node.system_config">
<code class="descname">system_config</code><em class="property"> = None</em><a class="headerlink" href="#dist_zero.node.node.Node.system_config" title="Permalink to this definition">¶</a></dt>
<dd><p>System configuration parameters.</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.node.Node.transfer_handle">
<code class="descname">transfer_handle</code><span class="sig-paren">(</span><em>handle</em>, <em>for_node_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/node.html#Node.transfer_handle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.node.Node.transfer_handle" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a handle for use by self, create a new handle for use by another node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>handle</strong> (<a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a>) – A <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> that self can use to send to another node.</li>
<li><strong>for_node_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The id of some other node.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> that the <code class="docutils literal notranslate"><span class="pre">for_node</span></code> will be able to use to send to the node referenced by handle.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-dist_zero.linker"></span><dl class="class">
<dt id="dist_zero.linker.Linker">
<em class="property">class </em><code class="descclassname">dist_zero.linker.</code><code class="descname">Linker</code><span class="sig-paren">(</span><em>node</em>, <em>logger</em>, <em>deliver</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/linker.html#Linker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.linker.Linker" title="Permalink to this definition">¶</a></dt>
<dd><p>For linking a possibly empty set of <a class="reference internal" href="#dist_zero.importer.Importer" title="dist_zero.importer.Importer"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Importer</span></code></a> instances to a possibly empty set of <a class="reference internal" href="#dist_zero.exporter.Exporter" title="dist_zero.exporter.Exporter"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Exporter</span></code></a> instances.</p>
<p>Each linker is associated with some <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a>.
As that node adds and removes <a class="reference internal" href="#dist_zero.importer.Importer" title="dist_zero.importer.Importer"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Importer</span></code></a> and <a class="reference internal" href="#dist_zero.exporter.Exporter" title="dist_zero.exporter.Exporter"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Exporter</span></code></a> classes, it will register them with its associated <a class="reference internal" href="#dist_zero.linker.Linker" title="dist_zero.linker.Linker"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Linker</span></code></a>
object.
It will also import messages on its importers
When it wants to generate messages for exporters, it will call advance_sequence_number on the linker, and use
that sequence number to export.
It will also elapse time through the linker.</p>
<p>The linker is then expected to make sure that <a class="reference internal" href="#dist_zero.exporter.Exporter" title="dist_zero.exporter.Exporter"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Exporter</span></code></a> instances retransmit at the right times
and that <a class="reference internal" href="#dist_zero.importer.Importer" title="dist_zero.importer.Importer"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Importer</span></code></a> instances generate proper acknowledgements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>node</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><em>object</em></a>) – An object implementing methods with the format of <a class="reference internal" href="#dist_zero.node.node.Node.send" title="dist_zero.node.node.Node.send"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Node.send</span></code></a>, <a class="reference internal" href="#dist_zero.node.node.Node.deliver" title="dist_zero.node.node.Node.deliver"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Node.deliver</span></code></a>, <a class="reference internal" href="#dist_zero.node.node.Node.new_handle" title="dist_zero.node.node.Node.new_handle"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Node.new_handle</span></code></a></td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="dist_zero.linker.Linker.TIME_BETWEEN_ACKNOWLEDGEMENTS_MS">
<code class="descname">TIME_BETWEEN_ACKNOWLEDGEMENTS_MS</code><em class="property"> = 30</em><a class="headerlink" href="#dist_zero.linker.Linker.TIME_BETWEEN_ACKNOWLEDGEMENTS_MS" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of ms between acknowledgements sent to senders.</p>
</dd></dl>

<dl class="attribute">
<dt id="dist_zero.linker.Linker.TIME_BETWEEN_RETRANSMISSION_CHECKS_MS">
<code class="descname">TIME_BETWEEN_RETRANSMISSION_CHECKS_MS</code><em class="property"> = 20</em><a class="headerlink" href="#dist_zero.linker.Linker.TIME_BETWEEN_RETRANSMISSION_CHECKS_MS" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of ms between checks for whether we should retransmit to receivers.</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.linker.Linker.advance_sequence_number">
<code class="descname">advance_sequence_number</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/linker.html#Linker.advance_sequence_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.linker.Linker.advance_sequence_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate and return a new sequence number.</p>
<p>This method also tracks internally which Importer sequence numbers this sequence number corresponds to.</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.linker.Linker.elapse">
<code class="descname">elapse</code><span class="sig-paren">(</span><em>ms</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/linker.html#Linker.elapse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.linker.Linker.elapse" title="Permalink to this definition">¶</a></dt>
<dd><p>Elapse time</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The number of elapsed milliseconds</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.linker.Linker.least_unacknowledged_sequence_number">
<code class="descname">least_unacknowledged_sequence_number</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/linker.html#Linker.least_unacknowledged_sequence_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.linker.Linker.least_unacknowledged_sequence_number" title="Permalink to this definition">¶</a></dt>
<dd><p>The least sequence number that has not been acknowledged by every Exporter responsible for it.</p>
</dd></dl>

<dl class="attribute">
<dt id="dist_zero.linker.Linker.n_duplicates">
<code class="descname">n_duplicates</code><em class="property"> = None</em><a class="headerlink" href="#dist_zero.linker.Linker.n_duplicates" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of times this node has received a message that was already received</p>
</dd></dl>

<dl class="attribute">
<dt id="dist_zero.linker.Linker.n_reorders">
<code class="descname">n_reorders</code><em class="property"> = None</em><a class="headerlink" href="#dist_zero.linker.Linker.n_reorders" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of times this node has received an out-of-order message</p>
</dd></dl>

<dl class="attribute">
<dt id="dist_zero.linker.Linker.n_retransmissions">
<code class="descname">n_retransmissions</code><em class="property"> = None</em><a class="headerlink" href="#dist_zero.linker.Linker.n_retransmissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of times this node has retransmitted a message</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.linker.Linker.new_exporter">
<code class="descname">new_exporter</code><span class="sig-paren">(</span><em>receiver</em>, <em>migration_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/linker.html#Linker.new_exporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.linker.Linker.new_exporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate and return a new <a class="reference internal" href="#dist_zero.exporter.Exporter" title="dist_zero.exporter.Exporter"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Exporter</span></code></a> instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>receiver</strong> (<a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a>) – The <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> of the node that will receive for this exporter.</li>
<li><strong>migration_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – If the exporter will be running as part of the new flow during a migration,
then the id of the migration.  Otherwise, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref any docutils literal notranslate"><span class="pre">None</span></code></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.linker.Linker.new_importer">
<code class="descname">new_importer</code><span class="sig-paren">(</span><em>sender</em>, <em>first_sequence_number=0</em>, <em>remote_sequence_number_to_early_message=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/linker.html#Linker.new_importer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.linker.Linker.new_importer" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate and return a new <a class="reference internal" href="#dist_zero.importer.Importer" title="dist_zero.importer.Importer"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Importer</span></code></a> instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sender</strong> (<a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a>) – The <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> of the node that will send for this importer.</li>
<li><strong>first_sequence_number</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The first sequence number this importer should expect to receive.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.linker.Linker.remove_importers">
<code class="descname">remove_importers</code><span class="sig-paren">(</span><em>sender_ids</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/linker.html#Linker.remove_importers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.linker.Linker.remove_importers" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a set of importers from this linker entirely.
:param set[str] sender_ids: The identifiers for the importers to remove.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-dist_zero.importer"></span><dl class="class">
<dt id="dist_zero.importer.Importer">
<em class="property">class </em><code class="descclassname">dist_zero.importer.</code><code class="descname">Importer</code><span class="sig-paren">(</span><em>linker</em>, <em>sender</em>, <em>first_sequence_number=0</em>, <em>remote_sequence_number_to_early_message=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/importer.html#Importer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.importer.Importer" title="Permalink to this definition">¶</a></dt>
<dd><p>Instances of Importer will be used by nodes internal to a computation to represent
a source of input messages to that node.</p>
<p>As messages arrive from the sender, the underlying <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> should pass them to the <a class="reference internal" href="#dist_zero.importer.Importer.import_message" title="dist_zero.importer.Importer.import_message"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Importer.import_message</span></code></a> method.
Internally, the <a class="reference internal" href="#dist_zero.importer.Importer" title="dist_zero.importer.Importer"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Importer</span></code></a> will de-duplicate and re-order messages, and eventually call <a class="reference internal" href="#dist_zero.node.sum.SumNode.deliver" title="dist_zero.node.sum.SumNode.deliver"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">SumNode.deliver</span></code></a> on
each message, exactly once, and in the right order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>linker</strong> (<a class="reference internal" href="#dist_zero.linker.Linker" title="dist_zero.linker.Linker"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Linker</span></code></a>) – The linker associated with this importer</li>
<li><strong>sender</strong> (<a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a>) – The <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> of the node sending to this internal node.</li>
<li><strong>first_sequence_number</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The first sequence number this importer should expect to receive.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dist_zero.importer.Importer.acknowledge">
<code class="descname">acknowledge</code><span class="sig-paren">(</span><em>remote_sequence_number</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/importer.html#Importer.acknowledge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.importer.Importer.acknowledge" title="Permalink to this definition">¶</a></dt>
<dd><p>Send an acknowledgement to the associated sender.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>remote_sequence_number</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – A sequence number from the sender.
When acknowledge is called, all messages with sequence numbers less than remote_sequence_number must
be acknowledged by the underlying <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.importer.Importer.import_message">
<code class="descname">import_message</code><span class="sig-paren">(</span><em>message</em>, <em>sender_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/importer.html#Importer.import_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.importer.Importer.import_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive a message from the linked <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>message</strong> (<a class="reference internal" href="message.html#message"><span class="std std-ref">Message</span></a>) – The newly received message.</li>
<li><strong>sender_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The id of the <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> that sent the message.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dist_zero.importer.Importer.least_undelivered_remote_sequence_number">
<code class="descname">least_undelivered_remote_sequence_number</code><a class="headerlink" href="#dist_zero.importer.Importer.least_undelivered_remote_sequence_number" title="Permalink to this definition">¶</a></dt>
<dd><p>The least sequence number (in the sender’s sequence) that has never been delivered.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-dist_zero.exporter"></span><dl class="class">
<dt id="dist_zero.exporter.Exporter">
<em class="property">class </em><code class="descclassname">dist_zero.exporter.</code><code class="descname">Exporter</code><span class="sig-paren">(</span><em>receiver</em>, <em>linker</em>, <em>migration_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/exporter.html#Exporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.exporter.Exporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Each instance of Exporter will be used by a <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> to represent its end of a connection
on which it is sending messages to another <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> .</p>
<p>Retransmission:</p>
<p>When a node tries to export a message with the exporter, the exporter will send the message,
and watch to see whether the message is acknowleded.  If after enough time the message is not acknowledged,
it will resubmit it.</p>
<p>Duplication:</p>
<p>During migrations, a single <a class="reference internal" href="#dist_zero.exporter.Exporter" title="dist_zero.exporter.Exporter"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Exporter</span></code></a> instance may duplicate all its messages to other <a class="reference internal" href="#dist_zero.exporter.Exporter" title="dist_zero.exporter.Exporter"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Exporter</span></code></a> instances for a while.
Each of the duplicate <a class="reference internal" href="#dist_zero.exporter.Exporter" title="dist_zero.exporter.Exporter"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Exporter</span></code></a> instances is responsible for retransmitting its own messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>receiver</strong> (<a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a>) – The <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> of the node receiving from this internal node.</li>
<li><strong>linker</strong> (<a class="reference internal" href="#dist_zero.linker.Linker" title="dist_zero.linker.Linker"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Linker</span></code></a>) – The linker associated with this exporter</li>
<li><strong>migration_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – If the exporter will be running as part of the new flow during a migration,
then the id of the migration.  Otherwise, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref any docutils literal notranslate"><span class="pre">None</span></code></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="dist_zero.exporter.Exporter.PENDING_EXPIRATION_TIME_MS">
<code class="descname">PENDING_EXPIRATION_TIME_MS</code><em class="property"> = 400</em><a class="headerlink" href="#dist_zero.exporter.Exporter.PENDING_EXPIRATION_TIME_MS" title="Permalink to this definition">¶</a></dt>
<dd><p>When a message has been sent, it will be put into a pending state.
PENDING_EXPIRATION_TIME_MS milliseconds after a message is sent, if it still hasn’t been acknowledged,
it will be considered expired.</p>
<p>Expired messages will be retransmitted during calls to <a class="reference internal" href="#dist_zero.exporter.Exporter.retransmit_expired_pending_messages" title="dist_zero.exporter.Exporter.retransmit_expired_pending_messages"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Exporter.retransmit_expired_pending_messages</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.exporter.Exporter.acknowledge">
<code class="descname">acknowledge</code><span class="sig-paren">(</span><em>internal_sequence_number</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/exporter.html#Exporter.acknowledge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.exporter.Exporter.acknowledge" title="Permalink to this definition">¶</a></dt>
<dd><p>Acknowledge the receipt of all sequence numbers less than sequence_number.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>internal_sequence_number</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Some internal sequence number for which all
smaller sequence numbers should now be acknowledged.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.exporter.Exporter.export_message">
<code class="descname">export_message</code><span class="sig-paren">(</span><em>message</em>, <em>sequence_number</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/exporter.html#Exporter.export_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.exporter.Exporter.export_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Export a message to whichever of the receiver or the duplicated receiver should receive it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>message</strong> (<a class="reference internal" href="message.html#message"><span class="std std-ref">Message</span></a>) – The message</li>
<li><strong>sequence_number</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The sequence number of the new message.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.exporter.Exporter.has_pending_messages">
<code class="descname">has_pending_messages</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/exporter.html#Exporter.has_pending_messages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.exporter.Exporter.has_pending_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>return True iff this exporter has pending messages for which it is waiting for an acknowledgement.</p>
</dd></dl>

<dl class="attribute">
<dt id="dist_zero.exporter.Exporter.least_unacknowledged_sequence_number">
<code class="descname">least_unacknowledged_sequence_number</code><a class="headerlink" href="#dist_zero.exporter.Exporter.least_unacknowledged_sequence_number" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>The least natural number N such that</dt>
<dd><ul class="first last simple">
<li>this <a class="reference internal" href="#dist_zero.exporter.Exporter" title="dist_zero.exporter.Exporter"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Exporter</span></code></a> has not received an acknowledgement for N</li>
<li>This <a class="reference internal" href="#dist_zero.exporter.Exporter" title="dist_zero.exporter.Exporter"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Exporter</span></code></a>’s receiver would be expected to acknowledge N</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="dist_zero.exporter.Exporter.receiver">
<code class="descname">receiver</code><a class="headerlink" href="#dist_zero.exporter.Exporter.receiver" title="Permalink to this definition">¶</a></dt>
<dd><p>The handle of the node receiving from this exporter</p>
</dd></dl>

<dl class="attribute">
<dt id="dist_zero.exporter.Exporter.receiver_id">
<code class="descname">receiver_id</code><a class="headerlink" href="#dist_zero.exporter.Exporter.receiver_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The id of the node receiving from this exporter</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.exporter.Exporter.retransmit_expired_pending_messages">
<code class="descname">retransmit_expired_pending_messages</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/exporter.html#Exporter.retransmit_expired_pending_messages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.exporter.Exporter.retransmit_expired_pending_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Retransmit any pending messages that have been pending for too long.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time_ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The current time in milliseconds on the sending <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-dist_zero.node.io.internal"></span><dl class="class">
<dt id="dist_zero.node.io.internal.InternalNode">
<em class="property">class </em><code class="descclassname">dist_zero.node.io.internal.</code><code class="descname">InternalNode</code><span class="sig-paren">(</span><em>node_id</em>, <em>variant</em>, <em>adjacent</em>, <em>initial_state</em>, <em>controller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/io/internal.html#InternalNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.io.internal.InternalNode" title="Permalink to this definition">¶</a></dt>
<dd><p>The root of a tree of <a class="reference internal" href="#dist_zero.node.io.leaf.LeafNode" title="dist_zero.node.io.leaf.LeafNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LeafNode</span></code></a> instances of the same <code class="docutils literal notranslate"><span class="pre">variant</span></code>.</p>
<p>Each <a class="reference internal" href="#dist_zero.node.io.internal.InternalNode" title="dist_zero.node.io.internal.InternalNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">InternalNode</span></code></a> instance is responsible for keeping track of the state of its subtree, and for growing
or shrinking it as necessary.  In particular, when new leaves are created, <a class="reference internal" href="#dist_zero.node.io.internal.InternalNode.create_kid_config" title="dist_zero.node.io.internal.InternalNode.create_kid_config"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">InternalNode.create_kid_config</span></code></a> must
be called on the desired immediate parent to generate the node config for starting that child.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>node_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The id to use for this node</li>
<li><strong>variant</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘input’ or ‘output’</li>
<li><strong>adjacent</strong> (<a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a>) – The <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> of the adjacent node.  It must be provided when this internal node starts.</li>
<li><strong>controller</strong> (<a class="reference internal" href="machine.html#dist_zero.machine.MachineController" title="dist_zero.machine.MachineController"><em>MachineController</em></a>) – The controller for this node.</li>
<li><strong>initial_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><em>object</em></a>) – A json serializeable starting state for all leaves spawned from this node.
This state is important for output leaves that update that state over time.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dist_zero.node.io.internal.InternalNode.added_leaf">
<code class="descname">added_leaf</code><span class="sig-paren">(</span><em>kid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/io/internal.html#InternalNode.added_leaf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.io.internal.InternalNode.added_leaf" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kid</strong> (<a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a>) – The <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> of the leaf node that was just added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.io.internal.InternalNode.create_kid_config">
<code class="descname">create_kid_config</code><span class="sig-paren">(</span><em>name</em>, <em>machine_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/io/internal.html#InternalNode.create_kid_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.io.internal.InternalNode.create_kid_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a config for a new child leaf node, and mark it as a pending child on this parent node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name to use for the new node.</li>
<li><strong>machine_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The id of the MachineController which will run the new node.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A config for the new child node.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="message.html#message"><span class="std std-ref">Message</span></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.io.internal.InternalNode.deliver">
<code class="descname">deliver</code><span class="sig-paren">(</span><em>message</em>, <em>sequence_number</em>, <em>sender_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/io/internal.html#InternalNode.deliver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.io.internal.InternalNode.deliver" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method for delivering new messages to this node.</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.io.internal.InternalNode.elapse">
<code class="descname">elapse</code><span class="sig-paren">(</span><em>ms</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/io/internal.html#InternalNode.elapse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.io.internal.InternalNode.elapse" title="Permalink to this definition">¶</a></dt>
<dd><p>Elapse ms of time on this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – A number of milliseconds.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.io.internal.InternalNode.handle_api_message">
<code class="descname">handle_api_message</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/io/internal.html#InternalNode.handle_api_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.io.internal.InternalNode.handle_api_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle an api message.</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.io.internal.InternalNode.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/io/internal.html#InternalNode.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.io.internal.InternalNode.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Called exactly once, when a node starts to run.</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.io.internal.InternalNode.receive">
<code class="descname">receive</code><span class="sig-paren">(</span><em>message</em>, <em>sender_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/io/internal.html#InternalNode.receive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.io.internal.InternalNode.receive" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive a message from a sender.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The message.</li>
<li><strong>sender_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The id of the sender <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a>, or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref any docutils literal notranslate"><span class="pre">None</span></code></a> if the message was not generated by a sender.
(pre-recorded messages will not have a sender).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-dist_zero.node.io.leaf"></span><dl class="class">
<dt id="dist_zero.node.io.leaf.LeafNode">
<em class="property">class </em><code class="descclassname">dist_zero.node.io.leaf.</code><code class="descname">LeafNode</code><span class="sig-paren">(</span><em>node_id</em>, <em>parent</em>, <em>controller</em>, <em>variant</em>, <em>update_state</em>, <em>recorded_user=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/io/leaf.html#LeafNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.io.leaf.LeafNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a leaf in a tree of input or output nodes.</p>
<p>The leaf nodes are meant to correspond to the code closest to the actual physical input or output devices.</p>
<p>For example, if a laptop or desktop computer is interfacing with a user, it should have a leaf node running on it
to interact with the hardware.</p>
<p>Leaf nodes function</p>
<ul class="simple">
<li>either with <code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">==</span> <span class="pre">'input'</span></code> in which case the node is reading messages from an input device.</li>
<li>or with <code class="docutils literal notranslate"><span class="pre">variant</span> <span class="pre">==</span> <span class="pre">'output'</span></code> in which case the node is writing output messages to an output device.</li>
</ul>
<p>A single device that functions as both an input and an output should run 2 separate nodes for input and output.</p>
<p>Input and output leaves are designed to be abstract with respect to where the input goes to or where the output comes
from.  Practically, this design decision motivates two behaviors:</p>
<ul class="simple">
<li>From the perspective of an input node, each input message will be sent via a single exporter.</li>
<li>From the perspective of an output node, each output message will be received via a single importer.</li>
</ul>
<p>so leaves are designed never to have to manage complex sets of senders or receivers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>controller</strong> (<a class="reference internal" href="machine.html#dist_zero.machine.MachineController" title="dist_zero.machine.MachineController"><em>MachineController</em></a>) – the controller for this node’s machine.</li>
<li><strong>parent</strong> (<a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a>) – The <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> of the parent <a class="reference internal" href="#dist_zero.node.io.internal.InternalNode" title="dist_zero.node.io.internal.InternalNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">InternalNode</span></code></a> of this node.</li>
<li><strong>variant</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘input’ or ‘output’</li>
<li><strong>update_state</strong> (<em>func</em>) – A function.
Call it with a function that takes the current state and returns a new state.</li>
<li><strong>recorded_user</strong> (<a class="reference internal" href="recorded.html#dist_zero.recorded.RecordedUser" title="dist_zero.recorded.RecordedUser"><em>RecordedUser</em></a>) – In tests, this parameter may be not null to indicate that this
node should playback the actions of an attached <a class="reference internal" href="recorded.html#dist_zero.recorded.RecordedUser" title="dist_zero.recorded.RecordedUser"><code class="xref any py py-class docutils literal notranslate"><span class="pre">RecordedUser</span></code></a> instance.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dist_zero.node.io.leaf.LeafNode.deliver">
<code class="descname">deliver</code><span class="sig-paren">(</span><em>message</em>, <em>sequence_number</em>, <em>sender_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/io/leaf.html#LeafNode.deliver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.io.leaf.LeafNode.deliver" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method for delivering new messages to this node.</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.io.leaf.LeafNode.elapse">
<code class="descname">elapse</code><span class="sig-paren">(</span><em>ms</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/io/leaf.html#LeafNode.elapse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.io.leaf.LeafNode.elapse" title="Permalink to this definition">¶</a></dt>
<dd><p>Elapse ms of time on this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – A number of milliseconds.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.io.leaf.LeafNode.handle_api_message">
<code class="descname">handle_api_message</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/io/leaf.html#LeafNode.handle_api_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.io.leaf.LeafNode.handle_api_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle an api message.</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.io.leaf.LeafNode.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/io/leaf.html#LeafNode.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.io.leaf.LeafNode.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Called exactly once, when a node starts to run.</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.io.leaf.LeafNode.receive">
<code class="descname">receive</code><span class="sig-paren">(</span><em>message</em>, <em>sender_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/io/leaf.html#LeafNode.receive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.io.leaf.LeafNode.receive" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive a message from a sender.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The message.</li>
<li><strong>sender_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The id of the sender <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a>, or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref any docutils literal notranslate"><span class="pre">None</span></code></a> if the message was not generated by a sender.
(pre-recorded messages will not have a sender).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-dist_zero.node.sum"></span><dl class="class">
<dt id="dist_zero.node.sum.SumNode">
<em class="property">class </em><code class="descclassname">dist_zero.node.sum.</code><code class="descname">SumNode</code><span class="sig-paren">(</span><em>node_id</em>, <em>senders</em>, <em>receivers</em>, <em>input_node</em>, <em>output_node</em>, <em>controller</em>, <em>migrator_config=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/sum.html#SumNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.sum.SumNode" title="Permalink to this definition">¶</a></dt>
<dd><p>An internal node for summing all increments from its senders and forwarding the total to its receivers.</p>
<p>Each <a class="reference internal" href="#dist_zero.node.sum.SumNode" title="dist_zero.node.sum.SumNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">SumNode</span></code></a> is of one of three types</p>
<ul class="simple">
<li>input <a class="reference internal" href="#dist_zero.node.sum.SumNode" title="dist_zero.node.sum.SumNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">SumNode</span></code></a>, which receive as the adjacent node to an <a class="reference internal" href="#dist_zero.node.io.leaf.LeafNode" title="dist_zero.node.io.leaf.LeafNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LeafNode</span></code></a> or <a class="reference internal" href="#dist_zero.node.io.internal.InternalNode" title="dist_zero.node.io.internal.InternalNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">InternalNode</span></code></a> and send to <code class="docutils literal notranslate"><span class="pre">receivers</span></code>.
These nodes have an <code class="docutils literal notranslate"><span class="pre">input_node</span></code> but no <code class="docutils literal notranslate"><span class="pre">output_node</span></code> and some nonempty list of <code class="docutils literal notranslate"><span class="pre">receivers</span></code>.</li>
<li>output <a class="reference internal" href="#dist_zero.node.sum.SumNode" title="dist_zero.node.sum.SumNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">SumNode</span></code></a>, which send as the adjacent node to an <a class="reference internal" href="#dist_zero.node.io.leaf.LeafNode" title="dist_zero.node.io.leaf.LeafNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LeafNode</span></code></a> or <a class="reference internal" href="#dist_zero.node.io.internal.InternalNode" title="dist_zero.node.io.internal.InternalNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">InternalNode</span></code></a> and receive from <code class="docutils literal notranslate"><span class="pre">senders</span></code>.
These nodes have an <code class="docutils literal notranslate"><span class="pre">output_node</span></code> but no <code class="docutils literal notranslate"><span class="pre">input_node</span></code> and some nonempty list of <code class="docutils literal notranslate"><span class="pre">senders</span></code>.</li>
<li>internal <a class="reference internal" href="#dist_zero.node.sum.SumNode" title="dist_zero.node.sum.SumNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">SumNode</span></code></a>, which receive from senders and send to receivers.  These nodes have <code class="docutils literal notranslate"><span class="pre">input_node</span> <span class="pre">is</span> <span class="pre">None</span></code>
and <code class="docutils literal notranslate"><span class="pre">output_node</span> <span class="pre">is</span> <span class="pre">None</span></code></li>
</ul>
<p>Note that input/output <a class="reference internal" href="#dist_zero.node.sum.SumNode" title="dist_zero.node.sum.SumNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">SumNode</span></code></a> could be for either <a class="reference internal" href="#dist_zero.node.io.leaf.LeafNode" title="dist_zero.node.io.leaf.LeafNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LeafNode</span></code></a> or <a class="reference internal" href="#dist_zero.node.io.internal.InternalNode" title="dist_zero.node.io.internal.InternalNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">InternalNode</span></code></a>.  A <a class="reference internal" href="#dist_zero.node.sum.SumNode" title="dist_zero.node.sum.SumNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">SumNode</span></code></a> adjacent to an 
<a class="reference internal" href="#dist_zero.node.io.internal.InternalNode" title="dist_zero.node.io.internal.InternalNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">InternalNode</span></code></a> is primarily responsible for helping to spin up new leaves, whereas a <a class="reference internal" href="#dist_zero.node.sum.SumNode" title="dist_zero.node.sum.SumNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">SumNode</span></code></a> adjacent to a
<a class="reference internal" href="#dist_zero.node.io.leaf.LeafNode" title="dist_zero.node.io.leaf.LeafNode"><code class="xref any py py-class docutils literal notranslate"><span class="pre">LeafNode</span></code></a> will actually receive input messages from (or send output messages to) its adjacent leaf.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>node_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The node id for this node.</li>
<li><strong>senders</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – A list of <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> of the nodes sending increments</li>
<li><strong>receivers</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – A list of <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> of the nodes to receive increments</li>
<li><strong>input_node</strong> (<a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> or None) – The <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> of the input node to this node if it has one.</li>
<li><strong>output_node</strong> (<a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> or None) – The <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> of the output node to this node if it has one.</li>
<li><strong>migrator_config</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><em>object</em></a>) – Configuration for an initializing migrator, or None if the node
is not being initialized as part of a migration.</li>
<li><strong>controller</strong> (<a class="reference internal" href="machine.html#dist_zero.machine.MachineController" title="dist_zero.machine.MachineController"><em>MachineController</em></a>) – the controller for this node’s machine.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="dist_zero.node.sum.SumNode.SEND_INTERVAL_MS">
<code class="descname">SEND_INTERVAL_MS</code><em class="property"> = 30</em><a class="headerlink" href="#dist_zero.node.sum.SumNode.SEND_INTERVAL_MS" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of ms between sends to receivers.</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.sum.SumNode.deliver">
<code class="descname">deliver</code><span class="sig-paren">(</span><em>message</em>, <em>sequence_number</em>, <em>sender_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/sum.html#SumNode.deliver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.sum.SumNode.deliver" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by <a class="reference internal" href="#dist_zero.importer.Importer" title="dist_zero.importer.Importer"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Importer</span></code></a> instances in self._importers to deliver messages to self.
Also called for an edge sum node adjacent to an input_node when the input node triggers incrementing the sum.</p>
</dd></dl>

<dl class="attribute">
<dt id="dist_zero.node.sum.SumNode.deltas_only">
<code class="descname">deltas_only</code><em class="property"> = None</em><a class="headerlink" href="#dist_zero.node.sum.SumNode.deltas_only" title="Permalink to this definition">¶</a></dt>
<dd><p>When true, this node should never apply deltas to its current state.  It should collect them in the deltas
map instead.</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.sum.SumNode.elapse">
<code class="descname">elapse</code><span class="sig-paren">(</span><em>ms</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/sum.html#SumNode.elapse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.sum.SumNode.elapse" title="Permalink to this definition">¶</a></dt>
<dd><p>Elapse ms of time on this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – A number of milliseconds.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.sum.SumNode.import_from_node">
<code class="descname">import_from_node</code><span class="sig-paren">(</span><em>node</em>, <em>first_sequence_number=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/sum.html#SumNode.import_from_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.sum.SumNode.import_from_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Start importing from node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>node</strong> (<a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a>) – The <a class="reference internal" href="handle.html#handle"><span class="std std-ref">Handle</span></a> of a <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> that should now be sending to self.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.sum.SumNode.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/sum.html#SumNode.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.sum.SumNode.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Called exactly once, when a node starts to run.</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.sum.SumNode.receive">
<code class="descname">receive</code><span class="sig-paren">(</span><em>sender_id</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/sum.html#SumNode.receive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.sum.SumNode.receive" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive a message from a sender.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The message.</li>
<li><strong>sender_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The id of the sender <a class="reference internal" href="#dist_zero.node.node.Node" title="dist_zero.node.node.Node"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Node</span></code></a>, or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref any docutils literal notranslate"><span class="pre">None</span></code></a> if the message was not generated by a sender.
(pre-recorded messages will not have a sender).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.sum.SumNode.remove_migrator">
<code class="descname">remove_migrator</code><span class="sig-paren">(</span><em>migration_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/sum.html#SumNode.remove_migrator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.sum.SumNode.remove_migrator" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a migrator for self.migrators.</p>
</dd></dl>

<dl class="method">
<dt id="dist_zero.node.sum.SumNode.send_forward_messages">
<code class="descname">send_forward_messages</code><span class="sig-paren">(</span><em>before=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dist_zero/node/sum.html#SumNode.send_forward_messages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dist_zero.node.sum.SumNode.send_forward_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a new sequence number, combine deltas into an update message, and send it on all exporters.
:param dict[str, int] before: An optional dictionary mapping sender ids to sequence_numbers.</p>
<blockquote>
<div>If provided, process only up to the provided sequence number for each sender id.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the next unused sequence number</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="messages.html" title="previous chapter">Messages</a></li>
      <li>Next: <a href="migrations.html" title="next chapter">Migrations</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/doc/nodes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Korei Klein.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/doc/nodes.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>